process TEST = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  include "Configuration/EventContent/data/EventContent.cff"


  include "TopQuarkAnalysis/TopSkimming/test/TtEventInput.cff"

  include "TopQuarkAnalysis/TopSkimming/data/TtFullyHadronicFilter.cfi"
  include "TopQuarkAnalysis/TopSkimming/data/TtSemiLeptonicFilter.cfi"
  include "TopQuarkAnalysis/TopSkimming/data/TtFullyLeptonicFilter.cfi"

  path fhPath = { ttFullyHadronicFilter }
  path slPath = { ttSemiLeptonicFilter }
  path flPath = { ttFullyLeptonicFilter }

  module outFH = PoolOutputModule {
    untracked string fileName = "tt_fullyhadronic_RECOSIM.root"
    using RECOSIMEventContent
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "fhPath" }
    }
  }

  module outSL = PoolOutputModule {
    untracked string fileName = "tt_semileptonic_RECOSIM.root"
    using RECOSIMEventContent
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "slPath" }
    }
  }

  module outFL = PoolOutputModule {
    untracked string fileName = "tt_fullyleptonic_RECOSIM.root"
    using RECOSIMEventContent
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "flPath" }
    }
  }

  endpath splitPath = { outFH & outSL & outFL }

}
